!function(){"use strict";var e={489:function(e){e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,c;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(o of t.entries())if(!r.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],r.get(o[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(o of t.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(t[o]!==r[o])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(c=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,c[o]))return!1;for(o=n;0!=o--;){var i=c[o];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var c=window.wp.element,i=window.wp.blockEditor,a=window.wp.blocks;function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,i,a=[],l=!0,u=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=c.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=window.wp.components,f=window.wp.compose,p=window.wp.i18n,b=window.wp.apiFetch,d=r.n(b),m=window.wp.data,y=jQuery,v=function(e){var t=e.block,r=e.attributes,n=e.setAttributes,i=(e.instanceId,e.clientId),a=u((0,c.useState)(!1),2),l=a[0],f=a[1],p=u((0,c.useState)(null),2),b=p[0],v=p[1],g=(0,c.useRef)(null);(0,c.useEffect)((function(){var e,n=t.replace("meta-box/","");f(!0),v(""),d()({path:"/mb-blocks/v1/block/".concat(n,"/get_form"),method:"POST",data:{post_id:null===(e=(0,m.select)("core/editor"))||void 0===e?void 0:e.getCurrentPostId(),block:t,attributes:r,mode:"edit"}}).then((function(e){f(!1),v(e.html)})).catch((function(e){f(!1),console.error(e)}))}),[]),(0,c.useEffect)((function(){if(b&&!l){var e=t.replace("meta-box/","");return y(g.current).trigger("mb_ready").trigger("mb_blocks_edit").trigger("mb_blocks_edit/".concat(e)).trigger("mb-blocks-edit-ready").on("change keyup input mb_change","input, textarea, select, button",_.debounce(O,300)),function(){O(),y(g.current).off("change keyup input mb_change")}}}),[b,l]);var O=function(){var e;h(g.current);var t,r=null===(e=(0,m.select)("core/editor"))||void 0===e?void 0:e.getEditedPostAttribute("title");r&&(null===(t=(0,m.dispatch)("core/editor"))||void 0===t||t.editPost({title:r}))},h=function(e){var c;if(e){var a=new FormData(e);a.append("action","mb_blocks_save"),a.append("post_id",null===(c=(0,m.select)("core/editor"))||void 0===c?void 0:c.getCurrentPostId()),a.append("block",t),fetch(ajaxurl,{body:a,method:"POST"}).then((function(e){return e.json()})).then((function(e){for(var t=e.data,c=0,a=Object.entries(t);c<a.length;c++){var l=u(a[c],2),s=l[0],f=l[1];r.hasOwnProperty(s)&&n(o({},s,f))}r.hasOwnProperty("data")&&n({data:t.data}),n({id:"mb-block-"+i})})).catch((function(e){console.error(e)}))}};return(0,c.createElement)("form",{ref:g,className:"mb-block-edit"},l?(0,c.createElement)(s.Placeholder,null,(0,c.createElement)(s.Spinner,null)):(0,c.createElement)(c.RawHTML,null,b))};function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(null,arguments)}function O(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var h=r(489),w=r.n(h),P=window.wp.url,j=["ref","id","className","style","children"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={class:"className",for:"htmlFor"},A=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],I=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map((function(t,n){var o={},a=t.attributes,l=t.localName,s=t.childNodes,f=t.nodeValue;if(a&&Array.from(a).forEach((function(e,t){var r=e.name;if(S.hasOwnProperty(e.name)&&(r=S[e.name]),o[r]=function(e){try{return JSON.parse(e)}catch(t){return e}}(e.nodeValue),"style"===e.name){var n=e.nodeValue.split(";"),c={};n.forEach((function(e){var t=u(e.split(":"),2),r=t[0],n=t[1];c[r]=n})),o[r]=c}})),o.key=n,"innerblocks"===l){if((r=k(k({},r),o)).className||r.style||r.id){var p=r,b=p.ref,d=p.id,m=p.className,y=p.style,v=p.children,g=O(p,j),h=k({},v);h.props=k(k({},h.props),g);var w={ref:b,id:d,className:m,style:y,children:h};return(0,c.createElement)("div",w)}return(0,c.createElement)(i.InnerBlocks,a)}return A.includes(l)?React.createElement(l,o):l?React.createElement(l,o,s&&Array.isArray(Array.from(s))?e(Array.from(s),r):[]):f}))},T=function(e){var t,r=e.html,n=e.innerBlocksProps;return r=r.replace(/<InnerBlocks([\s\S]*?)>/g,"<InnerBlocks$1></InnerBlocks>"),I(Array.from((t=r,(new DOMParser).parseFromString(t,"text/html").body.childNodes)),n)},B=["backgroundColor","borderColor","fontFamily","fontSize","gradient","textColor","className"],x=["border","color","elements","spacing","typography"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M={};function C(e){var t=e.className;return(0,c.createElement)(s.Placeholder,{className:t},(0,p.__)("Block rendered as empty."))}function R(e){var t=e.response,r=e.className,n=(0,p.sprintf)(
// translators: %s: error message describing the problem
// translators: %s: error message describing the problem
(0,p.__)("Error loading block: %s"),t.errorMsg);return(0,c.createElement)(s.Placeholder,{className:r},n)}function L(e){var t=e.children,r=e.showLoader;return(0,c.createElement)("div",{style:{position:"relative"}},r&&(0,c.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"}},(0,c.createElement)(s.Spinner,null)),(0,c.createElement)("div",{style:{opacity:r?"0.3":1}},t))}function z(e){var t=e.attributes,r=e.block,n=(e.className,e.httpMethod),o=void 0===n?"GET":n,l=e.urlQueryArgs,s=e.skipBlockSupportAttributes,p=void 0!==s&&s,b=e.EmptyResponsePlaceholder,m=void 0===b?C:b,y=e.ErrorResponsePlaceholder,v=void 0===y?R:y,h=e.LoadingResponsePlaceholder,j=void 0===h?L:h,E=(0,c.useRef)(!0),k=u((0,c.useState)(!1),2),S=k[0],_=k[1],A=(0,c.useRef)(),I=u((0,c.useState)(null),2),D=I[0],z=I[1],F=(0,f.usePrevious)(e),Q=u((0,c.useState)(!1),2),V=Q[0],H=Q[1],G=(0,i.useInnerBlocksProps)();function $(){var e,n;if(E.current){H(!0);var c=t&&(0,a.__experimentalSanitizeBlockAttributes)(r,t);p&&(c=function(e){e.backgroundColor,e.borderColor,e.fontFamily,e.fontSize,e.gradient,e.textColor,e.className;var t=O(e,B),r=(null==e?void 0:e.style)||M,n=(r.border,r.color,r.elements,r.spacing,r.typography,O(r,x));return N(N({},t),{},{style:n})}(c));var i="POST"===o,u=i?null:null!==(e=c)&&void 0!==e?e:null,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,P.addQueryArgs)("/wp/v2/block-renderer/".concat(e),N(N({context:"edit"},null!==t?{attributes:t}:{}),r))}(r,u,l),f=i?{attributes:null!==(n=c)&&void 0!==n?n:null}:null,b=A.current=d()({path:s,data:f,method:i?"POST":"GET"}).then((function(e){E.current&&b===A.current&&e&&z(e.rendered)})).catch((function(e){E.current&&b===A.current&&z({error:!0,errorMsg:e.message})})).finally((function(){E.current&&b===A.current&&H(!1)}));return b}}var J=(0,f.useDebounce)($,500);(0,c.useEffect)((function(){return function(){E.current=!1}}),[]),(0,c.useEffect)((function(){void 0===F?$():w()(F,e)||J()})),(0,c.useEffect)((function(){if(V){var e=setTimeout((function(){_(!0)}),1e3);return function(){return clearTimeout(e)}}}),[V]);var U=!!D,q=""===D,K=null==D?void 0:D.error;return V?(0,c.createElement)(j,g({},e,{showLoader:S}),U&&(0,c.createElement)(T,{html:D,innerBlocksProps:G})):q||!U?(0,c.createElement)(m,e):K?(0,c.createElement)(v,g({response:D},e)):(0,c.createElement)(T,{html:D,innerBlocksProps:G})}var F=["urlQueryArgs","currentPostId"];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var V={},H=(0,m.withSelect)((function(e){var t=e("core/editor");if(t){var r=t.getCurrentPostId();if(r&&"number"==typeof r)return{currentPostId:r}}return V}))((function(e){var t=e.urlQueryArgs,r=void 0===t?V:t,n=e.currentPostId,i=O(e,F),a=(0,c.useMemo)((function(){return n?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({post_id:n},r):r}),[n,r]);return(0,c.createElement)(z,g({urlQueryArgs:a},i))})),G=H,$=function(e){var t=e.attributes,r=e.blockType;return(0,c.createElement)(G,{block:r,attributes:t,httpMethod:"POST"})},J=function e(t){var r=t.attributes,n=t.setAttributes,o=t.clientId,a=t.mode,l=(t.className,u((0,c.useState)("edit"===a),2)),b=l[0],d=l[1],m=(0,i.useBlockProps)(),y=(0,f.useInstanceId)(e),g=m["data-type"];return(0,c.createElement)("div",m,(0,c.createElement)(i.BlockControls,{group:"block"},(0,c.createElement)(s.ToolbarGroup,null,(0,c.createElement)(s.ToolbarButton,{className:"components-icon-button components-toolbar__control",label:(0,p.__)("Edit"),onClick:function(){return d(!b)},icon:"edit"}))),b?(0,c.createElement)(v,{block:g,attributes:r,setAttributes:n,clientId:o,instanceId:y}):(0,c.createElement)($,{blockType:g,attributes:r}))},U=function(e){var t=e.attributes,r=e.setAttributes,n=e.clientId,o=(0,i.useBlockProps)(),a=o["data-type"];return(0,c.createElement)("div",o,(0,c.createElement)(i.InspectorControls,{key:"settings"},(0,c.createElement)(s.PanelBody,{title:(0,p.__)("Settings")},(0,c.createElement)(v,{block:a,attributes:t,clientId:n,setAttributes:r}))),(0,c.createElement)($,{attributes:t,blockType:a}))};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}new Map(Object.entries(window.mbBlocks.blocks)).forEach((function(e){var t,r=null!==(t=e.name)&&void 0!==t?t:"meta-box/".concat(e.id),o=K(K({},e=function(e){if("string"==typeof e.icon&&"<svg"===e.icon.substr(0,4))e.icon=(0,c.createElement)(c.RawHTML,null,e.icon);else if("string"==typeof e.icon&&e.icon.includes("fa-")){var t='<i class="'.concat(e.icon,'"></i>');e.icon=(0,c.createElement)(c.RawHTML,null,t)}else if("object"===n(e.icon)&&"string"==typeof e.icon.src&&e.icon.src.includes("fa-")){var r='<i class="'.concat(e.icon.src,'"></i>');e.icon.src=(0,c.createElement)(c.RawHTML,null,r)}return e.supports.html=!1,e}(e)),{},{edit:function(t){return t=K(K({},t),{},{mode:["edit","preview"].includes(e.mode)?e.mode:"preview"}),"normal"===e.context?(0,c.createElement)(J,t):(0,c.createElement)(U,t)},save:function(){return(0,c.createElement)(i.InnerBlocks.Content,null)}}),l="mb_".concat(e.id,"_settings");o=wp.hooks.applyFilters(l,o),wp.blocks.getBlockType(r)||(0,a.registerBlockType)(r,o)}))}();